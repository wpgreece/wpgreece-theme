/**
 * @copyright
 * Copyright (C) 2016 Nevma.gr
 * 
 * @license 
 * This program is free software: you can redistribute it and/or modify it under
 * the terms of the GNU General Public License as published by the Free 
 * Software Foundation, either version 3 of the License, or (at your option)
 * any later version.
 *  
 * This program is distributed in the hope that it will be useful, but WITHOUT
 * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
 * FOR A PARTICULAR PURPOSE. See the GNU General Public License for more
 * details.
 *  
 * You should have received a copy of the GNU General Public License along with
 * this program. If not, see <http://www.gnu.org/licenses/>.
 */
(function(e){e.noScrollLayer=function(o,n){var t=this;t.element=o;t.$element=e(o);t.createScrollProtectionLayer=function(){if(t.$element.find("."+t.options.layerClass).length>0){return}if(t.options.debug){console.log("Create layer")}e("<div/>").addClass(t.options.layerClass).css(t.options.layerCSS).appendTo(t.$element);t.$element.find("."+t.options.layerClass).on("wheel",function(e){if(t.options.debug){console.log("Wheel event")}e.stopPropagation()}).on("click",function(e){if(t.options.debug){console.log("Click event (element)")}e.stopPropagation();t.destroyScrollProtectionLayer()})};t.destroyScrollProtectionLayer=function(){if(t.options.debug){console.log("Destroy layer")}t.$element.find("."+t.options.layerClass).remove()};t.initialise=function(){t.options=e.extend({},e.noScrollLayer.options,n);t.$element.css(t.options.elementCSS);t.createScrollProtectionLayer();e("body").on("click",function(){if(t.options.debug){console.log("Click event (body)")}t.createScrollProtectionLayer()});t.$element.on("mouseleave",function(){if(t.options.debug){console.log("Mouse leave event")}t.createScrollProtectionLayer()})};t.initialise()};e.noScrollLayer.options={debug:true,runOnDefault:true,elementCSS:{position:"relative"},defaultSelector:".no-scroll-layer",layerClass:"no-scroll-element",layerCSS:{position:"absolute",top:"0",left:"0",width:"100%",height:"100%",zIndex:"1",backgroundColor:"transparent"}};e.fn.noScrollLayer=function(o){return this.each(function(){e.noScrollLayer(this,o)})};e(function(){if(e.noScrollLayer.options.runOnDefault){e(e.noScrollLayer.options.defaultSelector).each(function(){e.noScrollLayer(this)})}})})(jQuery);